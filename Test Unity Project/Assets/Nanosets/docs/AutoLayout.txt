Памятка по Auto Layout
======================

Предисловие
-----------

Русского перевода нет, да и английская версия описывает довольно поверхностно,
так что ничего непонятно. Эту памятку я пишу в основном для себя потому, что
я постоянно забываю что значат все эти галочки - "Child control size",
"Child force expand", Min/preferred/flexible width/height и как всё это
согласуется. В данной памятке будет рассмотрено только то как работают
друг с другом VerticalLayoutGroup, HorizontalLayoutGroup, LayoutElement и
ContentSizeFitter.

Роли LayoutElement и LayoutGroup
--------------------------------

Можно выделить две роли - LayoutElement и LayoutGroup. Один и тот же объект
одновременно может выступать и в роли LayoutElement (по отношению к своим
родителям) и в роли LayoutGroup (по отношению к своим потомкам).

LayoutElement определяет ограничения на размеры элемента, он не задает
фактический размер элемента, но дает подсказку для родителя (LayoutGroup)
о том какой у него минимальный и желательный размеры. Так что если на объект
установить компонент LayoutElement и задать ему эти параметры, то само по себе
ничего не измениться. Эти параметры начнут работать только тогда, когда
элемент будет добавлен в какой-либо LayoutGroup (в VerticalLayoutGroup,
HorizontalLayoutGroup, GridLayoutGroup) и то, только если этот LayoutGroup
"захочет" использовать эти подсказки - всё это настраивается в самом
LayoutGroup.

Когда мы добавляем LayoutElement к объекту, он позволяет задать следующие
свойства:
Min Width - минимальная ширина элемента
Min Height - минимальная высота элемента
Preferred Width - предпочитаемая ширина элемента
Preferred Height - предпочитаемя высота элемента
Flexible Width - весовой коэфициент заполнения по ширине
Flexible Height - весовой коэфициент заполнения по высоте

Сначала LayoutGroup пытаеся выделить своим элементам минимальные значения,
если осталось место, он будет пытаться выделить элементам предпочитаемые
значения и если после всего этого останется еще место, то распределит его
согласно весовым коэфицентам. Если минимальные и предпочитаемые значения
задаются в обычных единицах, то весовые коэфиценты задаются от 0 до 1.

Так же надо заметить, что эти параметры есть у каждого объекта и по умолчанию
они равны нулю. Некоторые объекты, такие как Text и Image могут предоставлять
свои значения, так что если надо чтобы например текстовый объект автоматически
принимал размеры согласно текущему тексту, то LayoutElement для этого ставить
не надо. Компонент LayoutElement позволяет переопределить родные значения
(для кого-то они нулевые, для кого-то реальные) на собственноручно указанные.


ContentSizeFitter
-----------------

ContentSizeFitter это тривиальный LayoutGroup который подгоняет размер объекта
под указанные значения min/preferred. Он например нужен, если вам нужно
чтобы объект Image принял размеры картинки.

VerticalLayoutGroup и HorizontalLayoutGroup
-------------------------------------------

Компоненты VerticalLayoutGroup и HorizontalLayoutGroup (GridLayoutGroup лично
я пока не тестировал, но полагаю он работает по таким же принципам)
обеспечивают расположение дочерних элементов и их размеров в виде вертикального
и горизонтального списков элементов. В контексте контроля размеров объектов,
нас интересуют галочки "Child Controls Size" и "Child Force Expand". Когда
вы добавляете новый VerticalLayoutGroup или HorizontalLayoutGroup по умолчанию
отмечены галочки "Child Force Expand".

Галочки "Child Controls Size", если они отмечены, заставляют дочерние элементы
принять свой предпочитаемый размер, или хотя бы минимальный. Если эти галочки
сняты (и Child Force Expand" тоже сняты), то вы можете дочерним элементам
задать любые значения вручную, через Rect Transorm. Если же вы включаете
галочки "Child Controls Size" (а Child Force Expand" сняты) то они стараются
ужаться/растянуться до предпочитаемого размера.

Галочки "Child Force Expand", если они отмечены, заставляют дочерние элементы
заполнить всё имеющиеся пространство, т.е. сначала попытаться принять
минимальный размер, потом предпочитаемый, потом растягиваться пока есть
свободное пространство. Если при этом отмечены галочки "Child Controls Size",
то "Child Force Expand" их побеждает.

Итого, есть 4 комбинации как могут быть отмечены галочки и 3 варианта того,
как элементы будут растягиваться/сжиматься.

Control  Force   описание
  off    on/off  размер элемента можно задать вручную через Rect Transorm
  on      off    размер элемента постарается принять размер preferred
  on      on     размер элементы растянутся чтобы занять всё пространство
